# Quick Start: Live Game Tracking

Get up and running with live college football game tracking in 5 minutes.

## Prerequisites

- Python 3.10+
- pip
- **No API keys needed!** (uses intelligent rule-based commentary)

## Step 1: Install Dependencies (2 minutes)

```bash
pip install httpx fastapi uvicorn jinja2 python-dotenv pydantic
```

If you encounter SSL errors:
```bash
pip install --trusted-host pypi.org --trusted-host pypi.python.org --trusted-host files.pythonhosted.org httpx fastapi uvicorn jinja2 python-dotenv pydantic
```

## Step 2: Find a Live Game (1 minute)

```bash
python find_live_games.py
```

**Example output:**
```
ðŸ”´ LIVE IND @ MIA
  Game ID: 401635594          <-- Copy this!
  Indiana @ Miami
  Score: 14 - 17
  Status: 3rd Quarter
  Q3 - 8:42
```

Copy the **Game ID** from a live game.

## Step 3: Create Environment File (1 minute)

Create a file named `.env` in the project root:

```bash
# Switch to live mode
DEMO_MODE=0

# Paste the game ID from Step 2
ESPN_GAME_ID=401635594

# These will be auto-detected from ESPN
HOME_TEAM=Miami
AWAY_TEAM=Indiana

# Player to track (optional - must be in the game)
TRACKED_PLAYER=Fernando Mendoza
```

**Note:** No API keys needed! The app generates intelligent commentary using rules.

## Step 4: Start the Server (30 seconds)

```bash
uvicorn app.main:app --reload
```

You should see:
```
INFO:     Uvicorn running on http://127.0.0.1:8000
INFO:     Application startup complete.
```

## Step 5: Open in Browser

Navigate to: **http://localhost:8000**

The dashboard will:
- Auto-refresh every 5 seconds
- Update game state when changes occur
- Generate AI commentary on significant plays
- Track player stats in real-time

## Switching Back to Demo Mode

To test without live data, edit `.env`:

```bash
DEMO_MODE=1
```

Then restart the server.

## Testing the ESPN Integration

Before running the full app, test the ESPN API:

```bash
python test_espn_live.py 401635594
```

This will fetch and display the current game state to verify everything works.

## Troubleshooting

### "No games found"
- Check that it's college football season
- Try during game hours (typically Saturday afternoons/evenings)

### "Player stats not found"
- Verify the player name matches ESPN exactly
- Player must be actively playing in the game
- Try checking ESPN.com to see how they list the player

### "Connection error"
- Check your internet connection
- Verify the game ID is correct
- ESPN's API may have rate limits (wait a minute and try again)

### Dependencies won't install
See [SETUP.md](SETUP.md) for detailed troubleshooting

### Want more details on the commentary system?
See [NO_API_KEY_NEEDED.md](NO_API_KEY_NEEDED.md) for how rule-based commentary works

## How Polling Works

### Manual Polling
Click the **"Poll Now"** button to fetch the latest data immediately.

### Auto Polling (Live Mode)
- Dashboard refreshes every 5 seconds
- Server only calls ESPN API when you click "Poll Now"
- **Recommended:** Set up automatic polling by clicking Poll Now regularly

### Demo Autoplay
In demo mode, enable the **"Demo autoplay"** checkbox to automatically step through demo events.

## API Endpoints

Useful for automation:

```bash
# Trigger a manual poll
curl -X POST http://localhost:8000/admin/poll

# Get current state
curl http://localhost:8000/api/state

# Clear all panels
curl -X POST http://localhost:8000/admin/clear/all
```

## What Gets Tracked

From ESPN API:
- âœ… Live score updates
- âœ… Quarter and game clock
- âœ… Game status (pregame/live/final)
- âœ… Team names and logos
- âœ… Player passing stats (yards, TDs, INTs)

Generated by Intelligent Rules:
- âœ… Live play-by-play commentary
- âœ… Win probability explanations
- âœ… Player performance analysis
- âœ… Postgame recap (when game ends)

*No API keys required! Uses smart rule-based analysis.*

## Next Steps

- **Customize:** Edit player name in `.env` to track different players
- **Multiple games:** Change `ESPN_GAME_ID` to switch games
- **Automate:** Set up a cron job to poll automatically
- **Extend:** Add more stats by modifying `app/data_sources.py`

Enjoy tracking live college football games! ðŸˆ
